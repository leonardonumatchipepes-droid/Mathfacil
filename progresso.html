<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üöÄ Minha Evolu√ß√£o - Math F√°cil</title>
<style>
  /* RESET */
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
  body{background:#f4f6fc;color:#333;display:flex;flex-direction:column;min-height:100vh;}
  a{text-decoration:none;color:#fff;}
  button{cursor:pointer;transition:0.3s;}

  /* HEADER */
  header{display:flex;justify-content:space-between;align-items:center;
    background:linear-gradient(90deg,#1e3c72,#2a5298);padding:15px 20px;color:#fff;box-shadow:0 4px 12px rgba(0,0,0,0.1);}
  .avatar{background:#fff;color:#2a5298;font-weight:bold;border-radius:50%;width:60px;height:60px;
    display:flex;align-items:center;justify-content:center;font-size:24px;margin-right:10px;box-shadow:0 2px 8px rgba(0,0,0,0.2);}
  .aluno-info{display:flex;align-items:center;}
  .aluno-nome{font-size:1.2rem;font-weight:bold;}
  .top-right{display:flex;align-items:center;gap:10px;font-size:1.2rem;font-weight:bold;}
  .top-right img{width:32px;height:20px;object-fit:cover;border-radius:3px;}

  /* MAIN */
  main{flex:1;padding:20px;display:flex;flex-direction:column;align-items:center;}

  /* BARRA DE PROGRESSO TOTAL */
  .barra-progresso-container{width:100%;max-width:700px;background:#e0e0e0;border-radius:12px;overflow:hidden;margin-bottom:20px;height:25px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
  .barra-progresso{height:100%;width:0%;background:linear-gradient(90deg,#00c853,#1e88e5);text-align:center;color:#fff;line-height:25px;font-weight:bold;transition:width 1.5s ease-in-out;}

  canvas{background:#fff;border-radius:10px;box-shadow:0 4px 16px rgba(0,0,0,0.1);margin-bottom:20px;}

  .analise{margin-top:10px;background:#fff;padding:20px;border-radius:12px;width:100%;max-width:700px;
    box-shadow:0 4px 16px rgba(0,0,0,0.1);animation: fadeIn 1s ease-in-out;}
  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  .analise h3{margin-bottom:15px;color:#2a5298;font-size:1.4rem;}
  .analise p{margin-bottom:8px;line-height:1.5;font-size:1rem;}

  .comentario{margin-top:15px;background:linear-gradient(135deg,#e1f0ff,#c6e0ff);padding:18px;border-radius:12px;font-size:0.95rem;line-height:1.5;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
  .botoes{display:flex;gap:12px;margin-top:12px;}
  .botoes button{flex:1;padding:12px;border:none;border-radius:10px;background:#1e3c72;color:#fff;font-weight:bold;font-size:0.95rem;transform:translateY(0);}
  .botoes button:hover{background:#2a5298;transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.2);}

  footer{text-align:center;padding:12px 0;background:#1e3c72;color:#fff;}
  footer a{color:#fff;font-weight:bold;}
</style>
</head>
<body>

<header>
  <div class="aluno-info">
    <div class="avatar" id="avatar">L</div>
    <div class="aluno-nome" id="nomeAluno">Leonardo Tchipepe</div>
  </div>
  <div class="top-right">
    üöÄ MINHA EVOLU√á√ÉO
      <img src="imagens/Bandeira-angola.png" alt="Bandeira de Angola" class="bandeira">
  </div>
</header>

<main>
  <!-- BARRA DE PROGRESSO TOTAL -->
  <div class="barra-progresso-container">
    <div class="barra-progresso" id="barraTotal">0%</div>
  </div>

  <!-- GR√ÅFICO DE BARRAS -->
  <canvas id="graficoProgresso" width="700" height="350"></canvas>

  <!-- AN√ÅLISE GERAL E COMENT√ÅRIO -->
  <div class="analise">
    <h3>An√°lise Geral</h3>
    <p><strong>Nota Geral:</strong> <span id="notaGeral">0%</span></p>
    <p><strong>Pontos Fortes:</strong> <span id="pontosFortes">Nenhum ainda</span></p>
    <p><strong>Pontos a Melhorar:</strong> <span id="pontosFracos">Nenhum ainda</span></p>

    <div class="comentario">
      <p id="comentarioMotivacional">Carregando coment√°rio...</p>
      <div class="botoes">
        <button onclick="window.location.href='ia.html'">Estude com Assistente IA</button>
        <button onclick="window.location.href='estudar.html'">Estude com nosso material</button>
      </div>
    </div>
  </div>
</main>

<footer>
  <a href="index.html">‚¨ÖÔ∏è Voltar</a>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // ================= USU√ÅRIOS =================
  const usuarios = [
    {nome:"Leonardo Tchipepe", iniciais:"L", acertos:{Equacoes1:5, Equacoes2:4, Polinomios:3}, erros:{Equacoes1:1, Equacoes2:2, Polinomios:3}, tempoUso:3}, 
    {nome:"Maria Silva", iniciais:"M", acertos:{Equacoes1:2, Equacoes2:1, Polinomios:2}, erros:{Equacoes1:4, Erros2:5, Polinomios:3}, tempoUso:1}
  ];
  const usuario = usuarios[0]; // exemplo de usu√°rio atual

  // ================= AVATAR E NOME =================
  document.getElementById("avatar").textContent = usuario.iniciais;
  document.getElementById("nomeAluno").textContent = usuario.nome;

  // ================= DADOS DO GR√ÅFICO =================
  const temas = Object.keys(usuario.acertos);
  const acertos = temas.map(t => usuario.acertos[t]);
  const erros = temas.map(t => usuario.erros[t]);

  const ctx = document.getElementById('graficoProgresso').getContext('2d');
  const grafico = new Chart(ctx, {
    type:'bar',
    data:{
      labels: temas,
      datasets:[
        {label:'Acertos', data:acertos, backgroundColor:'rgba(0,200,0,0.8)', borderRadius:5},
        {label:'Erros', data:erros, backgroundColor:'rgba(200,0,0,0.8)', borderRadius:5}
      ]
    },
    options:{
      responsive:true,
      plugins:{
        legend:{position:'top'},
        tooltip:{enabled:true, mode:'index', intersect:false}
      },
      scales:{
        y:{beginAtZero:true, title:{display:true, text:'Quantidade'}},
        x:{title:{display:true, text:'Temas'}}
      }
    }
  });

  // ================= AN√ÅLISE GERAL =================
  const totalAcertos = acertos.reduce((a,b)=>a+b,0);
  const totalErros = erros.reduce((a,b)=>a+b,0);
  const totalQuestoes = totalAcertos + totalErros;
  const percentual = totalQuestoes > 0 ? Math.round(totalAcertos / totalQuestoes * 100) : 0;
  document.getElementById("notaGeral").textContent = percentual + "%";

  const pontosFortes = temas.filter((t,i)=>acertos[i]>=erros[i]).join(", ") || "Nenhum ainda";
  const pontosFracos = temas.filter((t,i)=>erros[i]>acertos[i]).join(", ") || "Nenhum ainda";
  document.getElementById("pontosFortes").textContent = pontosFortes;
  document.getElementById("pontosFracos").textContent = pontosFracos;

  // ================= BARRA DE PROGRESSO TOTAL =================
  const barra = document.getElementById("barraTotal");
  setTimeout(()=>{barra.style.width = percentual + "%"; barra.textContent = percentual + "%";}, 100);

  // ================= COMENT√ÅRIO MOTIVACIONAL =================
  let comentario = `Querido, ${usuario.nome}, parab√©ns üéâ voc√™ est√° no caminho certo`;
  if(pontosFracos!=="Nenhum ainda"){
    comentario += `, por√©m voc√™ precisa melhorar nos pontos de ${pontosFracos}`;
  }
  comentario += `. Portanto, sugiro estudar com nosso assistente IA do Math F√°cil (click aqui ‚Üí ia.html) e/ou estude com nosso material (click aqui ‚Üí estudar.html).`;

  document.getElementById("comentarioMotivacional").textContent = comentario;
</script>

</body>
</html>
